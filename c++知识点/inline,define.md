#### 1. 说说内联函数和宏函数的区别

区别：

1. **宏定义不是函数**，但是使用起来像函数。预处理器用复制宏代码的方式代替函数的调用，**省去了函数压栈退栈过程**，提高了效率；**而内联函数本质上是一个函数**，内联函数一般用于函数体的代码比较简单的函数，不能包含复杂的控制语句，while、switch，并且**内联函数本身不能直接调用自身(递归无穷尽拷贝展开，必然报错)**。
2. **宏函数**是在预编译的时候把所有的宏名用宏体来替换，简单的说就是字符串替换 ；**而内联函数**则是在编译的时候进行代码插入，**编译器会在每处调用内联函数的地方直接把内联函数的内容展开**，这样可以省去函数的调用的开销，提高效率
3. **宏定义**是**没有类型检查的**，无论对还是错都是直接替换；**而内联函数**在编译的时候会进行类型的检查，内联函数满足函数的性质，比如有返回值、参数列表等

```c++
//宏定义示例
#define MAX(a, b) ((a)>(b)?(a):(b))
MAX(a,"Hello")； //错误地比较int和字符串，没有参数类型检查

//内联函数示例
#include <stdio.h>
inline int add(int a, int b){
    return (a + b);
}
int main(void){
    int a;
    a = add(1, 2);
    printf("a+b=%d\n", a);
    return 0;
}
//以上a = add(1, 2);处在编译时将被展开为：a = (a + b);
```

**1、使用时的一些注意事项：**

- 使用**宏定义**一定要注意错误情况的出现，比如宏定义函数没有类型检查，可能传进来任意类型，从而带来错误，如举例。还有就是括号的使用，**宏在定义时要小心处理宏参数，一般用括号括起来，否则容易出现二义性**
- inline函数一般用于比较小的，频繁调用的函数，这样可以减少函数调用带来的开销。只需要在函数返回类型前加上关键字inline，即可将函数指定为inline函数。
- 同其它函数不同的是，最好**将inline函数定义在头文件，而不仅仅是声明**，因为编译器在处理inline函数时，需要在调用点内联展开该函数，所以仅需要函数声明是不够的。

**2、内联函数使用的条件：**（使用内存空间来保护栈空间和时间）

- 内联是以代码膨胀（复制）为代价，**仅仅省去了函数调用的开销，从而提高函数的执行效率。**如果执行函数体内代码的时间，相比于函数调用的开销较大，那么效率 的收获会很少。另一方面，每一处内联函数的调用都要复制代码，将使程序的总代码量增大，**消耗更多的内存空间**。以下情况不宜使用内联：
- （1）**如果函数体内的代码比较长**，使用内联将导致内存消耗代价较高。
- （2）**如果函数体内出现循环**，那么执行函数体内代码的时间要比函数调用的开销大。
- 内联不是什么时候都能展开的，一个好的编译器将会根据函数的定义体，自动地取消不符合要求的内联。

#### 2. 说说const和define的区别。

**参考回答**

const用于定义常量；而define用于定义宏，而宏也可以用于定义常量。都用于常量定义时，它们的区别有：

1. **const生效于编译的阶段；define生效于预处理阶段。**
2. const定义的常量，**在C语言中是存储在内存中、需要额外的内存空间的**；define定义的常量，**运行时是直接的操作数，并不会存放在内存中。**
3. const定义的常量是带类型的；define定义的常量不带类型。**因此define定义的常量不利于类型检查。**

#### 3. 说说内联函数和函数的区别，内联函数的作用。

**参考回答**

1. 内联函数比普通函数多了关键字**inline**
2. 内联函数避免了函数调用的**开销**；普通函数有调用的开销
3. 普通函数在被调用的时候，需要**寻址（函数入口地址）**；内联函数不需要寻址。
4. 内联函数有一定的限制，内联函数体要求**代码简单**，不能包含复杂的结构控制语句；普通函数没有这个要求。

**内联函数的作用**：内联函数在调用时，是将调用表达式用内联函数体来替换。避免函数调用的开销。

**答案解析**

在使用内联函数时，应注意如下几点：　

1. 在内联函数内不允许用循环语句和开关语句。　
   如果内联函数有这些语句，**则编译将该函数视同普通函数那样产生函数调用代码**,递归函数是不能被用来做内联函数的。内联函数只适合于只有1～5行的小函数。对一个含有许多语句的大函数，函数调用和返回的开销相对来说微不足道，所以也没有必要用内联函数实现。　
2. **内联函数的定义必须出现在内联函数第一次被调用之前**。（所以直接在头文件内定义即可。）
